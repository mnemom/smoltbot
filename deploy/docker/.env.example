# ============================================================
# smoltbot Self-Hosted Gateway — Environment Configuration
# ============================================================
# Copy this file to .env and fill in required values.
# Lines starting with # are comments.
#
# Quick start:
#   cp .env.example .env
#   # Edit .env with your keys
#   docker compose up -d
# ============================================================


# --- Required: Database ---------------------------------------------------
# PostgreSQL password used by the postgres container and migration runner.
POSTGRES_PASSWORD=changeme


# --- Required: Supabase / Database Access ----------------------------------
# Supabase project URL (or direct Postgres REST URL when self-hosting).
SUPABASE_URL=

# Supabase service-role key (full admin access — keep secret).
SUPABASE_KEY=


# --- Required: License ----------------------------------------------------
# Enterprise license JWT issued from the mnemom.ai dashboard.
# Contact sales@mnemom.ai to obtain a self-hosted license.
MNEMOM_LICENSE_JWT=


# --- Required: LLM Provider (at least one) --------------------------------
# Anthropic API key for Claude models (primary provider).
ANTHROPIC_API_KEY=


# --- Optional: Additional LLM Providers -----------------------------------
# OpenAI API key for GPT models (fallback / multi-model routing).
OPENAI_API_KEY=

# Google Gemini API key (fallback / multi-model routing).
GEMINI_API_KEY=


# --- Optional: Hybrid Analysis Mode ---------------------------------------
# When set, the gateway delegates AIP analysis to the mnemom cloud service
# instead of running analysis locally. Useful for air-gapped deployments
# where only the analysis endpoint is reachable.

# mnemom analysis endpoint, e.g. https://api.mnemom.ai/v1/analyze
MNEMOM_ANALYZE_URL=

# mnemom API key with analyze scope (mnm_xxx...).
MNEMOM_API_KEY=


# --- Optional: Observability ----------------------------------------------
# Application log level: debug, info, warn, error.
LOG_LEVEL=info

# OpenTelemetry collector gRPC/HTTP endpoint for traces and metrics.
# Example: http://otel-collector:4318
OTLP_ENDPOINT=

# OTLP authentication header value (e.g. Bearer token or API key).
OTLP_AUTH=


# --- Optional: Infrastructure Overrides ------------------------------------
# Redis connection URL. Defaults to the compose redis service.
REDIS_URL=redis://redis:6379

# Gateway HTTP listen port (mapped on the host).
PORT=8787

# Service role: "gateway", "scheduler", or "all" (runs both in one process).
SMOLTBOT_ROLE=all
